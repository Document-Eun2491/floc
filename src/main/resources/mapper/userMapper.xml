<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.app.floc.mapper.UserMapper">

    <!--회원가입-->
    <insert id="insert">
        INSERT INTO TBL_USER
        (ID, USER_IDENTIFICATION, USER_PASSWORD, USER_NAME, USER_NICKNAME,USER_MARKETING,USER_ALARM,USER_STATUS)
        VALUES(SEQ_USER.NEXTVAL, #{userIdentification}, #{userPassword}, #{userNickname}, #{userNickname},#{userMarketing},#{userAlarm},#{userStatus})
    </insert>

    <!--입력한 회원 identification으로 회원 조회-->
    <select id="selectByUserIdentification" resultType="userVO">
        SELECT ID, USER_IDENTIFICATION, USER_PASSWORD, USER_NAME, USER_NICKNAME, USER_STATUS, USER_TISSUE, USER_CREATED_DATE, USER_UPDATED_DATE, USER_ROLE, PROFILE_IMAGE_NAME, PROFILE_IMAGE_UUID, PROFILE_IMAGE_SIZE,PROFILE_IMAGE_PATH
        FROM TBL_USER
        WHERE USER_IDENTIFICATION = #{userIdentification}
    </select>

    <!--회원 id로 회원 조회-->
    <select id="selectByUserId" resultType="userVO">
        SELECT ID, USER_IDENTIFICATION, USER_PASSWORD, USER_NAME, USER_NICKNAME, USER_STATUS, USER_TISSUE, USER_CREATED_DATE, USER_UPDATED_DATE, USER_ROLE, PROFILE_IMAGE_NAME, PROFILE_IMAGE_UUID, PROFILE_IMAGE_SIZE,PROFILE_IMAGE_PATH
        FROM TBL_USER
        WHERE ID = #{userId}
    </select>

    <!--입력한 회원 nickname으로 회원 조회-->
    <select id="selectByUserNickname" resultType="userVO">
        SELECT ID, USER_IDENTIFICATION, USER_PASSWORD, USER_NAME, USER_NICKNAME, USER_STATUS, USER_TISSUE, USER_CREATED_DATE, USER_UPDATED_DATE, USER_ROLE, PROFILE_IMAGE_NAME, PROFILE_IMAGE_UUID, PROFILE_IMAGE_SIZE,PROFILE_IMAGE_PATH
        FROM TBL_USER
        WHERE USER_NICKNAME = #{nickname}
    </select>

    <!--비밀번호,카카오 네이버 관련 회원정보 수정, 휴지는 없음 -->
    <update id="updateUser">
        UPDATE TBL_USER
        SET USER_IDENTIFICATION=#{userIdentification}, USER_PASSWORD=#{userPassword}, USER_NAME=#{userName},USER_NICKNAME = #{userNickname}, USER_STATUS=#{userStatus} , USER_UPDATED_DATE=SYSDATE
        WHERE ID = #{id}
    </update>

</mapper>